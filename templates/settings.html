{% extends "base.html" %}

{% block title %}Settings - Groundplane{% endblock %}

{% block content %}
<div class="max-w-4xl mx-auto fade-in">
    <div class="glass-card p-8 mb-8 animate__animated animate__fadeIn relative overflow-hidden">
        <div class="absolute inset-0 opacity-10 bg-gradient-to-r from-orange-500/20 via-red-500/20 to-purple-500/20 animate-gradient"></div>
        <div class="absolute top-0 left-0 w-40 h-40 bg-orange-400/10 rounded-full -translate-x-20 -translate-y-20 blur-xl animate-pulse"></div>
        <div class="absolute bottom-0 right-0 w-32 h-32 bg-purple-400/10 rounded-full translate-x-16 translate-y-16 blur-xl animate-pulse"></div>
        
        <div class="flex items-center gap-3 mb-2 relative z-10">
            <div class="relative">
                <i class='bx bx-cog text-orange-400 text-3xl animate-pulse'></i>
                <div class="absolute -top-1 -right-1 w-3 h-3 bg-orange-400 rounded-full animate-ping"></div>
            </div>
            <h1 class="text-3xl font-bold text-white bg-gradient-to-r from-orange-400 via-red-400 to-purple-400 bg-clip-text text-transparent animate-gradient">
                Settings
            </h1>
        </div>
        <p class="text-gray-300 mt-2 text-lg relative z-10">Customize your Groundplane experience</p>
    </div>
    
    <div class="glass-card p-8 animate__animated animate__fadeIn animate__delay-1s relative overflow-hidden">
        <div class="absolute inset-0 opacity-5">
            <div class="absolute top-0 left-0 w-full h-full bg-gradient-to-br from-orange-500/10 via-red-500/10 to-purple-500/10 animate-gradient"></div>
            <div class="absolute top-10 left-10 w-20 h-20 bg-orange-400/10 rounded-full blur-xl animate-pulse"></div>
            <div class="absolute bottom-10 right-10 w-24 h-24 bg-purple-400/10 rounded-full blur-xl animate-pulse"></div>
        </div>
        
        <form id="settings-form" method="POST" action="{{ url_for('save_settings') }}" class="relative z-10">
            <div class="mb-8">
                <h2 class="text-xl font-bold text-white mb-4 flex items-center gap-2">
                    <i class='bx bx-palette text-orange-400'></i> Appearance
                </h2>
                
                <div class="space-y-4">
                    <div class="flex items-center justify-between p-4 bg-slate-800/50 rounded-xl border border-slate-700/50">
                        <div>
                            <h3 class="font-semibold text-white">Animations</h3>
                            <p class="text-gray-400 text-sm">Enable or disable UI animations</p>
                        </div>
                        <label class="relative inline-flex items-center cursor-pointer">
                            <input type="checkbox" id="enable_animations" name="enable_animations" class="sr-only peer" {% if user_settings.enable_animations %}checked{% endif %}>
                            <div class="w-14 h-7 bg-slate-700 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[4px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-6 after:w-6 after:transition-all peer-checked:bg-gradient-to-r peer-checked:from-orange-500 peer-checked:to-red-500"></div>
                        </label>
                    </div>
                </div>
            </div>
            
            <div class="flex justify-between items-center mt-8">
                <a href="{{ url_for('index') }}" class="bg-slate-700 hover:bg-slate-600 px-6 py-3 text-white rounded-lg font-semibold flex items-center gap-2 transition-all duration-300 shadow-lg hover:shadow-slate-500/25 transform hover:scale-105">
                    <i class='bx bx-arrow-back'></i> Back to Dashboard
                </a>
                <button type="submit" class="btn-primary px-6 py-3 text-white rounded-lg font-semibold flex items-center gap-2 shadow-lg hover:shadow-orange-500/25 transform hover:scale-105 transition-all duration-300">
                    <i class='bx bx-save'></i> Save Settings
                </button>
            </div>
        </form>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        const animationsToggle = document.getElementById('enable_animations');
        
        if (!animationsToggle.checked) {
            document.body.classList.add('no-animations');
        }
        
        animationsToggle.addEventListener('change', function() {
            if (this.checked) {
                document.body.classList.remove('no-animations');
            } else {
                document.body.classList.add('no-animations');
            }
        });
    });
</script>

<style>
    /* Styles for when animations are disabled */
    .no-animations * {
        animation: none !important;
        transition: none !important;
        transform: none !important;
    }
</style>
{% endblock %}